{% extends "base.html" %}
{% block title %}Listing - Dormouse{% endblock %}

{% block head %}
<script src="/static/src/listings.js" async></script>
{% endblock %}

{% block content %}
    <div class="flex justify-center items-center mt-4">
        <div class="bg-gray-50 p-8 rounded-xl shadow-md border border-black-500">
            <h2 class="flex justify-center items-center font-bold text-2xl mb-2">List Property</h2>
            <form action="" method="post">
                <p>{{form.address.label}}</p>
                <div class="border border-black-500 rounded-md corner-fix shadow-sm form-text mb-3">
                    {{form.address}}
                    <datalist id="address_list">
                    </datalist>
                    <br>
                </div>

                <p>{{form.price.label}}</p>
                <div class="border border-black-500 rounded-md corner-fix shadow-sm form-text mb-3">{{form.price}}<br></div>

                <div class="flex">
                    <div>
                        <p>{{form.bedrooms.label}}</p>
                        <div class="border border-black-500 rounded-md corner-fix shadow-sm form-text mb-3 mr-3">{{form.bedrooms}}<br></div>
                    </div>
                    <div>
                        <p>{{form.bathrooms.label}}</p>
                        <div class="border border-black-500 rounded-md corner-fix shadow-sm form-text mb-3">{{form.bathrooms}}<br></div>
                    </div>
                </div>

                <p>{{form.square_ft.label}}</p>
                <div class="border border-black-500 rounded-md corner-fix shadow-sm form-text mb-3">{{form.square_ft}}<br></div>

                <p>{{form.lot_size.label}}</p>
                <div class="border border-black-500 rounded-md corner-fix shadow-sm form-text mb-3">{{form.lot_size}}<br></div>

                <p>{{form.property_type.label}}</p>
                <div class="border border-black-500 rounded-md corner-fix shadow-sm mb-3">{{form.property_type}}<br></div>

                <p>{{form.pets.label}}</p>
                {% for subfield in form.pets %}
                    <tr>
                        <td>{{ subfield(class="form-check-input") }}</td>
                        <td>{{ subfield.label(class="mr-5") }}</td>
                    </tr>
                {% endfor %}
                {% if error %}
                    <div class="flex justify-center items-center text-red-900 bg-red-400 w-full py-2 px-4 rounded shadow-sm">
                      <p>{{ error }}</p>
                    </div>
                {% endif %}
                {% if success %}
                    <div class="flex justify-center items-center text-emerald-900 bg-emerald-400 w-full py-2 px-4 rounded shadow-sm">
                      <p>{{ success }}</p>
                    </div>
                {% endif %}
                <button class="text-white bg-teal-500 hover:bg-teal-600 w-full py-2 px-4 rounded shadow-md mt-3">{{ form.submit() }}</button>
            </form>
        </div>
    </div>
    {% if redirect %}
        <script>
            setTimeout(function(){window.location.href = "{{ redirect }}"}, 2000);
        </script>
    {% endif %}
{% endblock %}